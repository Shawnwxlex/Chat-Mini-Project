# ğŸ¤– Gemini Chat - æ™ºèƒ½å¯¹è¯åŠ©æ‰‹

<div align="center">

![React](https://img.shields.io/badge/React-19.1.1-61DAFB?logo=react)
![Vite](https://img.shields.io/badge/Vite-7.1.2-646CFF?logo=vite)
![Zustand](https://img.shields.io/badge/Zustand-5.0.8-FF6B6B?logo=zustand)
![Gemini](https://img.shields.io/badge/Gemini-2.5_Flash-4285F4?logo=google)

ä¸€ä¸ªåŸºäº **React + Vite** å¼€å‘çš„ç°ä»£åŒ–æ™ºèƒ½å¯¹è¯åº”ç”¨ï¼Œé›†æˆ **Google Gemini API**ï¼Œæ”¯æŒæµå¼å¯¹è¯ã€å¤šæ¨¡æ€è¾“å…¥ã€è™šæ‹Ÿæ»šåŠ¨ç­‰é«˜çº§ç‰¹æ€§ã€‚

[åœ¨çº¿æ¼”ç¤ºï¼ˆéä¸­å›½å¤§é™†ç½‘ç»œï¼‰](https://chat-mini-project-nine.vercel.app/) | [é¡¹ç›®å¿«é€Ÿé¢„è§ˆ](#é¡¹ç›®å¿«é€Ÿé¢„è§ˆ) | [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½) | [å·¥ç¨‹è®¾è®¡ä¸æŠ€æœ¯å®ç°](#å·¥ç¨‹è®¾è®¡ä¸æŠ€æœ¯å®ç°) | [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„) | [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)

</div>

---

## é¡¹ç›®å¿«é€Ÿé¢„è§ˆï¼ˆ30 ç§’äº†è§£ï¼‰

åŸºäº React 19 + Vite çš„æ™ºèƒ½å¯¹è¯å‰ç«¯åº”ç”¨ï¼Œæ¥å…¥ Google Gemini APIï¼Œæ”¯æŒæ–‡æœ¬æµå¼è¾“å‡ºä¸å¤šæ¨¡æ€å›¾ç‰‡è¾“å…¥ã€‚

é’ˆå¯¹æµå¼ç”Ÿæˆä¸é•¿å¯¹è¯åœºæ™¯ï¼Œè®¾è®¡å¹¶å®ç°äº† `requestAnimationFrame` æ‰¹é‡æ¸²æŸ“ä¸ `react-window` è™šæ‹Ÿæ»šåŠ¨ï¼Œå‡å°‘é«˜é¢‘æ›´æ–°å¸¦æ¥çš„æ¸²æŸ“å‹åŠ›ä¸é•¿åˆ—è¡¨çš„ DOM/å¸ƒå±€å¼€é”€ã€‚

é¡¹ç›®åŒ…å«å¤šä¼šè¯ç®¡ç†ï¼ˆæœ¬åœ°æŒä¹…åŒ–ï¼‰ã€Markdown + ä»£ç é«˜äº®ã€è¯·æ±‚ä¸­æ–­ä¸æŒ‡æ•°é€€é¿é‡è¯•ç­‰å·¥ç¨‹åŒ–èƒ½åŠ›ã€‚

---

## æ ¸å¿ƒåŠŸèƒ½

- æµå¼å¯¹è¯ï¼šåŸºäº`requestAnimationFrame`å®ç°æµç•…å®æ—¶å¯¹è¯ä½“éªŒï¼Œæ”¯æŒä¸­æ–­ç”Ÿæˆ
- å¤šæ¨¡æ€è¾“å…¥ï¼šæ”¯æŒå›¾ç‰‡ä¸Šä¼ ï¼ŒAI å¯åˆ†æå›¾ç‰‡å†…å®¹å¹¶å›ç­”ç›¸å…³é—®é¢˜
- é•¿åˆ—è¡¨æ¸²æŸ“ä¼˜åŒ–ï¼šä½¿ç”¨`react-window`å®ç°é«˜æ€§èƒ½è™šæ‹Ÿæ»šåŠ¨ï¼Œæ”¯æŒå¤§é‡æ¶ˆæ¯æµç•…æ¸²æŸ“
- å¤šä¼šè¯ç®¡ç†ï¼šå¯åˆ›å»ºã€åˆ‡æ¢ã€åˆ é™¤å¤šä¸ªå¯¹è¯ä¼šè¯ï¼Œæ”¯æŒä¼šè¯å†å²æŒä¹…åŒ–
- Markdown æ¸²æŸ“ï¼šæ”¯æŒ`Markdown`æ ¼å¼æ¸²æŸ“ï¼Œä»£ç è¯­æ³•é«˜äº®
- ä¸»é¢˜åˆ‡æ¢ï¼šæ”¯æŒæµ…è‰²/æ·±è‰²ä¸»é¢˜åˆ‡æ¢
- é”™è¯¯å¤„ç†ï¼šåŸºäº`React ErrorBoundary`é˜²æ­¢åº”ç”¨å´©æºƒï¼Œæä¾›å‹å¥½çš„é”™è¯¯æç¤º

## å·¥ç¨‹è®¾è®¡ä¸æŠ€æœ¯å®ç°

### 1. æµå¼è¾“å‡ºæ¸²æŸ“ç­–ç•¥

æµå¼è¿”å›æ–‡æœ¬åœºæ™¯ä¸‹ï¼Œè‹¥æ¯ä¸ª token è§¦å‘ä¸€æ¬¡çŠ¶æ€æ›´æ–°ï¼Œä¸»çº¿ç¨‹ä¼šå› é«˜é¢‘é‡æ¸²æŸ“è€Œæ‰¿å‹ã€‚

é‡‡ç”¨ç­–ç•¥ï¼š

- ä½¿ç”¨ç¼“å†²åŒºæš‚å­˜å¢é‡æ–‡æœ¬
- é€šè¿‡ `requestAnimationFrame` åœ¨å¸§çº§åˆ«æ‰¹é‡æ›´æ–° UI
- æ§åˆ¶æ¯å¸§æ›´æ–°å­—ç¬¦æ•°ï¼Œä¿è¯è¾“å…¥ä¸æ»šåŠ¨å¯ç”¨

```javascript
const render = () => {
  const buffer = streamBufferRef.current;
  setResultData(buffer.slice(0, displayedIndexRef.current));
  rafIdRef.current = requestAnimationFrame(render);
};
```

### 2. é•¿å¯¹è¯åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–

èŠå¤©è®°å½•éšä½¿ç”¨å¢é•¿ï¼Œæ™®é€šåˆ—è¡¨æ¸²æŸ“ä¼šå¸¦æ¥æ˜æ˜¾çš„æ¸²æŸ“ä¸å¸ƒå±€æˆæœ¬ï¼›æ¶ˆæ¯é«˜åº¦å— Markdownã€å›¾ç‰‡ã€ä»£ç å—å½±å“è€Œä¸å¯é¢„ä¼°ã€‚

é‡‡ç”¨ç»„åˆæ–¹æ¡ˆï¼š

- `react-window` å®ç°è™šæ‹Ÿæ»šåŠ¨ï¼Œä»…æ¸²æŸ“å¯è§†åŒºåŸŸ
- `ResizeObserver` åŠ¨æ€ç›‘å¬æ¶ˆæ¯é«˜åº¦å˜åŒ–
- è¡Œé«˜ç¼“å­˜ï¼Œå‡å°‘é‡å¤æµ‹é‡
- æµå¼ç”Ÿæˆæ—¶è‡ªåŠ¨æ»šåŠ¨è‡³åº•éƒ¨

### 3. è¯·æ±‚æ§åˆ¶ä¸é”™è¯¯æ¢å¤

- `AbortController` æ”¯æŒç”¨æˆ·ä¸­æ–­ç”Ÿæˆ
- ç½‘ç»œé”™è¯¯å¼•å…¥æŒ‡æ•°é€€é¿é‡è¯•ï¼Œé¿å…ç¬æ—¶å¤±è´¥ç›´æ¥ä¸­æ–­
- é…ç½® / é‰´æƒç±»é”™è¯¯ç›´æ¥æç¤ºï¼Œä¸è¿›è¡Œæ— æ„ä¹‰é‡è¯•

### 4. çŠ¶æ€ç®¡ç†è®¾è®¡

- Zustandï¼šç®¡ç†èŠå¤©è®°å½•ã€ä¼šè¯åˆ—è¡¨ç­‰æ ¸å¿ƒä¸šåŠ¡çŠ¶æ€
- Context APIï¼šç®¡ç†è¾“å…¥çŠ¶æ€ã€åŠ è½½çŠ¶æ€ç­‰ UI çº§åˆ«çŠ¶æ€
- localStorageï¼šä¼šè¯ä¸å†å²è®°å½•æœ¬åœ°æŒä¹…åŒ–

### 5. å›¾ç‰‡å¤„ç†ä¸å‹ç¼©

- Canvas å¯¹å›¾ç‰‡è¿›è¡Œå‹ç¼©ä¸é‡ç»˜
- æ ¹æ®æ–‡ä»¶å¤§å°åŠ¨æ€è°ƒæ•´åˆ†è¾¨ç‡ä¸å‹ç¼©è´¨é‡
- PNG / GIF è‡ªåŠ¨è½¬æ¢ä¸º JPEGï¼Œé™ä½ä½“ç§¯
- æ”¯æŒå¤šå›¾ç‰‡ä¸Šä¼ å¹¶ç»Ÿä¸€å¤„ç†ï¼ˆæœ€å¤š 4 å¼ ï¼‰

---

## æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶

- **React 19.1.1** - æœ€æ–°ç‰ˆæœ¬çš„ React æ¡†æ¶
- **Vite 7.1.2** - ä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ï¼Œæé€Ÿçƒ­æ›´æ–°
- **Zustand 5.0.8** - è½»é‡çº§çŠ¶æ€ç®¡ç†åº“

### åŠŸèƒ½åº“

- **react-window 2.2.2** - è™šæ‹Ÿæ»šåŠ¨å®ç°
- **react-markdown 10.1.0** - Markdown æ¸²æŸ“
- **react-syntax-highlighter 16.1.0** - ä»£ç è¯­æ³•é«˜äº®
- **remark-gfm 4.0.1** - GitHub Flavored Markdown æ”¯æŒ

### AI é›†æˆ

- **@google/generative-ai 0.24.1** - Google Gemini API å®˜æ–¹ SDK

### å¼€å‘å·¥å…·

- **ESLint** - ä»£ç è´¨é‡æ£€æŸ¥
- **TypeScript ç±»å‹å®šä¹‰** - ç±»å‹å®‰å…¨æ”¯æŒ

## é¡¹ç›®ç»“æ„

```
gemini-project/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/              # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Main/               # ä¸»èŠå¤©ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ Sidebar/            # ä¾§è¾¹æ ï¼ˆä¼šè¯ç®¡ç†ï¼‰
â”‚   â”‚   â”œâ”€â”€ VirtualizedMessageList/  # è™šæ‹Ÿæ»šåŠ¨æ¶ˆæ¯åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ MarkdownRenderer/   # Markdown æ¸²æŸ“ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ThemeToggle/        # ä¸»é¢˜åˆ‡æ¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ RetryStatusBar/     # é‡è¯•çŠ¶æ€æ¡
â”‚   â”‚   â”œâ”€â”€ ErrorBoundary/      # é”™è¯¯è¾¹ç•Œç»„ä»¶
â”‚   â”‚   â””â”€â”€ VPNWarning/         # ç½‘ç»œç¯å¢ƒæç¤ºç»„ä»¶
â”‚   â”œâ”€â”€ stores/                 # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ chatStore.js        # èŠå¤©çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ sessionStore.js     # ä¼šè¯çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ themeStore.js       # ä¸»é¢˜çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ context/                # Context API
â”‚   â”‚   â””â”€â”€ Context.jsx         # å…¨å±€çŠ¶æ€
â”‚   â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ gemini.js           # Gemini API é…ç½®
â”‚   â”œâ”€â”€ styles/                 # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ theme.css           # ä¸»é¢˜æ ·å¼ï¼ˆCSS Variablesï¼‰
â”‚   â”œâ”€â”€ assets/                 # é™æ€èµ„æº
â”‚   â”œâ”€â”€ App.jsx                 # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ main.jsx                # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ index.css               # å…¨å±€æ ·å¼
â”œâ”€â”€ public/                     # å…¬å…±é™æ€èµ„æº
â”‚   â””â”€â”€ vite.svg
â”œâ”€â”€ .gitignore                  # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ eslint.config.js            # ESLint é…ç½®
â”œâ”€â”€ index.html                  # HTML å…¥å£
â”œâ”€â”€ package.json                # é¡¹ç›®é…ç½®
â””â”€â”€ vite.config.js              # Vite é…ç½®
```

---

## å¿«é€Ÿå¼€å§‹

- å…‹éš†ï¼š`git clone <repo-url>`ï¼Œ`cd gemini-project`
- å®‰è£…ï¼š`npm install`
- è®¿é—® [Google AI Studio](https://makersuite.google.com/app/apikey)ï¼Œåˆ›å»ºæ–°çš„ API Key
- åˆ›å»º `.env`ï¼š`VITE_GEMINI_API_KEY=your_api_key`
- å¯åŠ¨å¼€å‘ç¯å¢ƒï¼š`npm run dev`

## éƒ¨ç½²

æ”¯æŒ Vercel / Netlify ç­‰å¹³å°éƒ¨ç½²ï¼Œæ„å»ºäº§ç‰©ä¸º `dist`ï¼Œéœ€é…ç½®ç¯å¢ƒå˜é‡ `VITE_GEMINI_API_KEY`ã€‚

---

## ğŸ™ è‡´è°¢

- [Google Gemini API](https://ai.google.dev/) - æä¾›å¼ºå¤§çš„ AI èƒ½åŠ›
- [React](https://react.dev/) - ä¼˜ç§€çš„ UI æ¡†æ¶
- [Vite](https://vitejs.dev/) - æé€Ÿçš„å‰ç«¯æ„å»ºå·¥å…·
- [Zustand](https://zustand-demo.pmnd.rs/) - è½»é‡çº§çŠ¶æ€ç®¡ç†
- [react-window](https://github.com/bvaughn/react-window) - è™šæ‹Ÿæ»šåŠ¨å®ç°
- [react-markdown](https://github.com/remarkjs/react-markdown) - Markdown æ¸²æŸ“

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼â­**

Made with â¤ï¸ by Shawn Wei

</div>
